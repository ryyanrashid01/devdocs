"use strict";(self.webpackChunkdeploy_to_vm=self.webpackChunkdeploy_to_vm||[]).push([[8989],{3048:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Repositories/PRISM/FastAPI/Helper Functions/build_corridor_polygon","title":"build_corridor_polygon","description":"Function Signature","source":"@site/docs/Repositories/PRISM/FastAPI/Helper Functions/build_corridor_polygon.md","sourceDirName":"Repositories/PRISM/FastAPI/Helper Functions","slug":"/Repositories/PRISM/FastAPI/Helper Functions/build_corridor_polygon","permalink":"/devdocs/docs/Repositories/PRISM/FastAPI/Helper Functions/build_corridor_polygon","draft":false,"unlisted":false,"editUrl":"https://github.com/ryyanrashid01/devdocs/edit/main/docs/Repositories/PRISM/FastAPI/Helper Functions/build_corridor_polygon.md","tags":[],"version":"current","frontMatter":{"sidebar_postion":4},"sidebar":"tutorialSidebar","previous":{"title":"sample_point_within_polygon","permalink":"/devdocs/docs/Repositories/PRISM/FastAPI/Helper Functions/sample_point_within_polygon"},"next":{"title":"calculate_direction","permalink":"/devdocs/docs/Repositories/PRISM/FastAPI/Helper Functions/calculate_direction"}}');var i=r(4848),t=r(8453);const o={sidebar_postion:4},l="build_corridor_polygon",d={},c=[{value:"Function Signature",id:"function-signature",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Step 1: Convert to <code>LineString</code>",id:"step-1-convert-to-linestring",level:3},{value:"Step 2: Buffer the Line",id:"step-2-buffer-the-line",level:3},{value:"Return Value",id:"return-value",level:2},{value:"Limitations",id:"limitations",level:2},{value:"Example Usage",id:"example-usage",level:2},{value:"Summary",id:"summary",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"build_corridor_polygon",children:"build_corridor_polygon"})}),"\n",(0,i.jsx)(n.h3,{id:"function-signature",children:"Function Signature"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"def build_corridor_polygon(path_segment, buffer_radius_m):\n"})}),"\n",(0,i.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"path_segment"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"list[tuple[((lat, lon), t, speed)]"})}),(0,i.jsxs)(n.td,{children:["A list of drone trajectory points in the format returned by ",(0,i.jsx)(n.code,{children:"generate_single_path"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"buffer_radius_m"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float"})}),(0,i.jsxs)(n.td,{children:["Radius in ",(0,i.jsx)(n.strong,{children:"meters"})," around the path to buffer and create the corridor polygon."]})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"step-1-convert-to-linestring",children:["Step 1: Convert to ",(0,i.jsx)(n.code,{children:"LineString"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"line = LineString([(lon, lat) for (lat, lon), _, _ in path_segment])\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Transforms the path into a geometric line (",(0,i.jsx)(n.code,{children:"LineString"}),") using Shapely."]}),"\n",(0,i.jsxs)(n.li,{children:["Coordinates are converted from ",(0,i.jsx)(n.code,{children:"(lat, lon)"})," to ",(0,i.jsx)(n.code,{children:"(lon, lat)"})," since Shapely expects ",(0,i.jsx)(n.code,{children:"(x, y)"})," (i.e., ",(0,i.jsx)(n.code,{children:"(longitude, latitude)"}),")."]}),"\n",(0,i.jsx)(n.li,{children:"Ignores the time and speed values in the path \u2014 only position matters for this geometry."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"step-2-buffer-the-line",children:"Step 2: Buffer the Line"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"buffer_deg = buffer_radius_m / 111_000.0\nreturn line.buffer(buffer_deg)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Converts the buffer radius from meters to ",(0,i.jsx)(n.strong,{children:"degrees of latitude"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Roughly, ",(0,i.jsx)(n.strong,{children:"1\xb0 latitude \u2248 111,000 meters"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"This is an approximation (good enough for small areas)."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"line.buffer()"})," creates a polygon around the path with the specified width."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["This becomes your ",(0,i.jsx)(n.strong,{children:'"flight corridor polygon"'}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"return Polygon\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Returns a ",(0,i.jsxs)(n.strong,{children:["Shapely ",(0,i.jsx)(n.code,{children:"Polygon"})]})," object representing the corridor around the path."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Assumes Earth is flat over short distances (uses degree conversion based on latitude)."}),"\n",(0,i.jsx)(n.li,{children:"For large-scale or polar regions, you'd need to project to a planar coordinate system (e.g., UTM) instead of using raw lat/lon + buffer."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"corridor = build_corridor_polygon(path[:50], buffer_radius_m=30)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This will return a polygon around the first 50 steps of the drone path, buffered by 30 meters on each side."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can visualize it using libraries like ",(0,i.jsx)(n.code,{children:"matplotlib"}),", ",(0,i.jsx)(n.code,{children:"shapely"}),", or ",(0,i.jsx)(n.code,{children:"folium"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Step"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:["Convert ",(0,i.jsx)(n.code,{children:"(lat, lon)"})," to ",(0,i.jsx)(n.code,{children:"(lon, lat)"})]}),(0,i.jsx)(n.td,{children:"Required for correct geometry"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:["Build ",(0,i.jsx)(n.code,{children:"LineString"})]}),(0,i.jsx)(n.td,{children:"Represents drone trajectory"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Compute buffer in degrees"}),(0,i.jsx)(n.td,{children:"Approximate meter-to-degree conversion"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Return buffered polygon"}),(0,i.jsx)(n.td,{children:"Represents the flight corridor"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var s=r(6540);const i={},t=s.createContext(i);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);