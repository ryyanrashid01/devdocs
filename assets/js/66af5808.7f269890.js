"use strict";(self.webpackChunkdeploy_to_vm=self.webpackChunkdeploy_to_vm||[]).push([[7609],{8453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>o});var s=n(6540);const t={},l=s.createContext(t);function a(e){const i=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(l.Provider,{value:i},e.children)}},8628:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Repositories/PRISM/lib","title":"Utility Functions","description":"Documentation for utility and helper functions used in the drone simulation app.","source":"@site/docs/Repositories/PRISM/lib.md","sourceDirName":"Repositories/PRISM","slug":"/Repositories/PRISM/lib","permalink":"/devdocs/docs/Repositories/PRISM/lib","draft":false,"unlisted":false,"editUrl":"https://github.com/ryyanrashid01/devdocs/edit/main/docs/Repositories/PRISM/lib.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Utility Functions","sidebar_position":4,"description":"Documentation for utility and helper functions used in the drone simulation app."},"sidebar":"tutorialSidebar","previous":{"title":"Interfaces and Types","permalink":"/devdocs/docs/Repositories/PRISM/interfaces-and-types"},"next":{"title":"Presets","permalink":"/devdocs/docs/Repositories/PRISM/presets"}}');var t=n(4848),l=n(8453);const a={title:"Utility Functions",sidebar_position:4,description:"Documentation for utility and helper functions used in the drone simulation app."},o="Utility Functions",r={},c=[{value:"Class Name Composition with Tailwind",id:"class-name-composition-with-tailwind",level:3},{value:"Getting the Default Metadata Key",id:"getting-the-default-metadata-key",level:3},{value:"Selecting a Key by Risk Level",id:"selecting-a-key-by-risk-level",level:3},{value:"Flattening Metadata",id:"flattening-metadata",level:3},{value:"Risk Classification",id:"risk-classification",level:3},{value:"Capitalizing Strings",id:"capitalizing-strings",level:3},{value:"Conflict Detection for Violations",id:"conflict-detection-for-violations",level:3},{value:"Finding the Closest Time Index",id:"finding-the-closest-time-index",level:3},{value:"Mapping Risk Levels to Styles",id:"mapping-risk-levels-to-styles",level:3},{value:"Internal Imports",id:"internal-imports",level:3}];function d(e){const i={blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"utility-functions",children:"Utility Functions"})}),"\n",(0,t.jsx)(i.p,{children:"This page describes the helper functions used throughout the drone simulation codebase. These utilities simplify class management, metadata handling, risk classification, string formatting, and other logic related to drone behavior and configuration."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"class-name-composition-with-tailwind",children:"Class Name Composition with Tailwind"}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"cn(...inputs)"})," utility combines class names using ",(0,t.jsx)(i.code,{children:"clsx"})," and resolves conflicts using ",(0,t.jsx)(i.code,{children:"tailwind-merge"}),". This is helpful when dynamically assigning Tailwind classes in JSX:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:'cn("p-2", condition && "bg-red-500");\n'})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"getting-the-default-metadata-key",children:"Getting the Default Metadata Key"}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"getDefaultKey()"})," function scans a metadata object and returns the key associated with the default score (i.e., ",(0,t.jsx)(i.code,{children:"score === 1.0"}),"). This is commonly used to reset or initialize configurations:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:"const defaultKey = getDefaultKey(droneModifiers);\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"selecting-a-key-by-risk-level",children:"Selecting a Key by Risk Level"}),"\n",(0,t.jsxs)(i.p,{children:["To randomly select a key associated with a specific risk level (",(0,t.jsx)(i.code,{children:"low"}),", ",(0,t.jsx)(i.code,{children:"medium"}),", or ",(0,t.jsx)(i.code,{children:"high"}),"), ",(0,t.jsx)(i.code,{children:"getKeyByRiskLevel()"})," is used. If the desired level is not found, it defaults to the key with score 1.0:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:'const mediumRiskKey = getKeyByRiskLevel(droneModifiers, "medium");\n'})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"flattening-metadata",children:"Flattening Metadata"}),"\n",(0,t.jsxs)(i.p,{children:["Metadata objects are structured and nested. ",(0,t.jsx)(i.code,{children:"flattenMetadata()"})," transforms these into a flat array of ",(0,t.jsx)(i.code,{children:"{ key, label, risk }"})," entries, which simplifies mapping and display in components:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:"const flat = flattenMetadata(droneModifiers);\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"risk-classification",children:"Risk Classification"}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"classifyRisk()"})," function maps a numeric score to a risk label (",(0,t.jsx)(i.code,{children:"low"}),", ",(0,t.jsx)(i.code,{children:"medium"}),", or ",(0,t.jsx)(i.code,{children:"high"}),") based on how it compares to metadata-defined thresholds:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:"const risk = classifyRisk(droneModifiers, 0.7);\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"capitalizing-strings",children:"Capitalizing Strings"}),"\n",(0,t.jsxs)(i.p,{children:["The utility ",(0,t.jsx)(i.code,{children:"capitalizeFirstLetter()"})," ensures consistent formatting by converting the first character of any given string to uppercase:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:'capitalizeFirstLetter("example"); // "Example"\n'})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"conflict-detection-for-violations",children:"Conflict Detection for Violations"}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"isConflicting()"})," function checks if a new violation conflicts with already-selected ones. It ensures mutually exclusive constraints are respected. Special case: ",(0,t.jsx)(i.code,{children:"TFLV01"}),' ("no deviation") cannot be combined with any other:']}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:'isConflicting(["TFLV02"], "TFLV01");\n'})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"finding-the-closest-time-index",children:"Finding the Closest Time Index"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"findClosestIndex()"})," performs a binary search over a sorted array of time-stamped points to return the index nearest to a target time. Useful in animation or simulation playback:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:"const index = findClosestIndex(drone.path, currentTime);\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"mapping-risk-levels-to-styles",children:"Mapping Risk Levels to Styles"}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"getRiskColor()"})," function maps a risk level to Tailwind classes for styling elements:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:'<div className={getRiskColor("high")}>High Risk</div>\n'})}),"\n",(0,t.jsx)(i.p,{children:"Mapping:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"low"})," \u2192 Green"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"medium"})," \u2192 Yellow"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"high"})," \u2192 Red"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"custom"})," \u2192 Purple"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"default"})," \u2192 Blue"]}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"internal-imports",children:"Internal Imports"}),"\n",(0,t.jsx)(i.p,{children:"These utilities rely on constants, types, and helper libraries:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"@/constants/threats"}),": Metadata like ",(0,t.jsx)(i.code,{children:"FlightViolation"}),", mutual exclusions."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"@/interfaces/preset-level"}),": Types such as ",(0,t.jsx)(i.code,{children:"PresetLevel"}),"."]}),"\n",(0,t.jsxs)(i.li,{children:["External: ",(0,t.jsx)(i.code,{children:"clsx"})," and ",(0,t.jsx)(i.code,{children:"tailwind-merge"})," for class merging."]}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsx)(i.p,{children:"This file may be extended as new utilities are introduced."}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);